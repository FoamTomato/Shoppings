<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="spring" uri="http://www.springframework.org/tags"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@page session="true"%>
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="_csrf" content="${_csrf.token}"/>
    <meta name="_csrf_header" content="${_csrf.headerName}"/>
    <title>商城后台</title>
	<jsp:include page="../commonCss.jsp"/> 
	
</head>
<body class="blank" style="overflow:hidden">
<jsp:include page="../main/top.jsp"/> 
<jsp:include page="../main/left.jsp"/>
<jsp:include page="../commonJs.jsp"/> 
<jsp:include page="HJ_post_track.jsp"/> 
<jsp:include page="summary_modal.jsp"/> 
<%-- <jsp:include page="prints.jsp"/>  --%>
<div id="wrapper" class="leftleft" style="float: left;width:90%">
	<div class="small-header transition animated fadeIn">
		<div class="content animate-panel">
		    <div class="hpanel">
		        <div class="panel-body">
					<div class="row">
						<div class="col-lg-12">
							<div class="hpanel">
								<div id="error_div" class="text-left"></div>
										<div class="form-group col-lg-3">
											<label>订单编号</label>
												<input type="text" id="orderNum" name="orderNum" class="form-control col-sm-12" maxlength="50" placeholder="订单编号" style="width: 100%"/>
										</div>
										
										<div class="form-group col-lg-3">
											<label>订单状态</label>
												<select name="status" class="form-control" id="StatusOrder">
													<option value="" selected="selected">全部</option>
													<option value="0">已发件</option>
													<option value="1">未发件</option>
													<option value="2">已录入erp</option>
													<option value="3">问题件</option>
													<!-- <option value="4">订单取消</option> -->
												</select>
										</div>
										
										<div class="form-group col-lg-3">
											<label>开始日期</label>
												<input type="date" id="startDatas" name="orderNum" class="form-control col-sm-12" maxlength="50"  style="width: 100%"/>
										</div>
										
										<div class="form-group col-lg-3">
											<label>结束日期</label>
												<input type="date" id="endDatas" name="orderNum" class="form-control col-sm-12" maxlength="50"  style="width: 100%"/>
										</div>
										<div class="text-right m-t-xs">
												<nobr style="float:left;margin-left:15px;margin-top:10px">展示 <input min=0 type="number" id="pagsNums" style="width:50px" value="50"> 个</nobr><nobr  style="float:left;line-height: 45px;margin-left:10px">运单:<input type="checkbox" id="allChe"></nobr>
												<%-- <form id="form" method="post" style="float:left" action="${pageContext.request.contextPath}/admin/import?${_csrf.parameterName}=${_csrf.token}" enctype="multipart/form-data">
												    <div style="margin: 10px;" =>
												       <input id="file" type="file" name="file"/> 
												       <input id="excel_button" type="submit" value="导入" />
												    </div>
												</form> --%>
												<textarea id="resultHJ" rows="" style="display:none" cols=""></textarea>
												<input type="checkbox" name="stockCheckboxFid" style="display:none">
												<form id="formtyw" method="post" style="float: right" action="${pageContext.request.contextPath}/admin/export?${_csrf.parameterName}=${_csrf.token}" enctype="multipart/form-data">
												    <div>
												    	<input id="idList" name="idList" type="text" value="" style="display:none"/>
												       <input id="excel_buttonssss" type="button" class="btn btn-danger" style="margin-right: 5px;margin-top: 5px"   value="导出" />
												    </div>
												</form>
												<form id="formrs" method="post" style="float:right"action="${pageContext.request.contextPath}/admin/import?${_csrf.parameterName}=${_csrf.token}" enctype="multipart/form-data">
												    
													<div class="file-container" style="margin-right: 5px;margin-top: 5px; display: inline-block; position: relative; overflow: hidden; vertical-align: middle">
															<div id="filename" style="float: left; vertical-align: middle; margin-left: 5px; text-overflow: ellipsis; width: 100px; white-space: nowrap; line-height: 34px; font-size: 14px; text-align: left; overflow: hidden;">未选择文件</div>
															<button class="btn btn-danger fileinput-button" type="button">浏览</button>
															<input id="file" type="file" name="file" onchange="loadFile(this.files[0])" style="position: absolute; top: 0; left: 0; font-size: 34px; opacity: 0">
													</div>
													<input id="excel_buttonst" class="btn btn-danger" style="float: right;margin-right: 5px;margin-top: 5px" type="button" value="导入" />
												</form>
												<script>
												function loadFile(file){
												    $("#filename").html(file.name);
													//$("#filename").html("已选择文件");
												}
												</script>
												<button id="allInner" class="btn btn-success" style="margin-right: 5px;margin-top: 5px"
													type="button">
													<strong>全选</strong>
												</button>
												<button id="reverse" class="btn btn-success" style="margin-right: 5px;margin-top: 5px"
													type="button">
													<strong>反选</strong>
												</button>
												<button id="search" onclick="pages(1)" class="btn btn-success" style="margin-right: 5px;margin-top: 5px"
													type="button">
													<strong>查询</strong>
												</button>
											    <button id="reset" class="btn btn-success" style="margin-right: 5px;margin-top: 5px"
												style="margin-right: 20px;" type="reset">
												<strong>重置</strong>
											   </button>
											   
												<button id="submitOrder" class="btn btn-info" style="margin-right: 5px;margin-top: 5px"
													type="button">
													<strong>发送</strong>
												</button>
												<button id="gettrackList" onclick="gettrackList()" class="btn btn-info" style="margin-right: 5px;margin-top: 5px"
													type="button">
													<strong>批量打印</strong>
												</button>
												<button id="edit_summart" onclick="edit_summart()" class="btn btn-warning" style="margin-right: 5px;margin-top: 5px"
													type="button">
													<strong>集拼</strong>
												</button>
										</div>		
								</div>
							</div>
						</div>
					</div>
				</div>
				
			</div>
			
		</div>
		<div class="content animate-panel">	
			<div class="row">
				<div class="col-lg-12">
					<div class="hpanel">
						<div class="panel-body">
							<div style="float:left;margin-left:20px">
							<nobr style="color:red">红</nobr>/未发件，<nobr style="color:blue">蓝</nobr>/已发件，<nobr style="color:green">绿</nobr>/已录入erp，<nobr style="color:#c925d478">紫</nobr>/问题件
							</div>
							<div id="V_pages">
							</div>
							<div id="F-main-body" style="height:577px;overflow-y:auto">
							
							</div>
						</div>
					</div>
				</div>
		</div>
	</div>
	</div>
<div id="rightright"
		style="float: right; width: 42%; position: fixed; right: 0px; display: none">
		<div class="row"
			style="top: 0; bottom: 0; position: fixed; overflow-y: hidden; overflow-x: hidden;">
			<div class="">
				<div class="hpanel">
					<div class="panel-body" style="height: 920px;overflow:hidden">
						<!-- 图片式展示 -->
						<div class="productImageList">
							<div style="margin: 20px 0;"></div>
							<div id="tt" class="easyui-tabs"
								data-options="tools:'#tab-tools'"
								style="width: 775px;height: 850px;border-bottom: 1px solid #3f5872 "></div>
							<div id="tab-tools">
								 <a href="javascript:void(0)"
									class="easyui-linkbutton"
									style="color: white; background: #e74c3c; border: 1px solid black;"
									onclick="closePanelsY()">关闭</a> 

							</div>

						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
<form id="forwordform" action='<c:url value="/admin/order/History?${_csrf.parameterName}=${_csrf.token}" />' method='POST'>
	<input type="hidden" name="userId" id="userId"/>
	<input type="hidden" name="roleStr" id="roleStr"/>
	<input type="hidden" name="orderNum" id="ordernum">
	
</form>
<script type="text/javascript">
$('#leftMenuOrder').addClass('active');
var oTable;
var header = $("meta[name='_csrf_header']").attr("content");  
var token = $("meta[name='_csrf']").attr("content"); 
var contextPath = '${pageContext.request.contextPath}';
$(function() {
	//$('.date').datepicker();
	$(document).ajaxSend(function(e, xhr, options) {
        xhr.setRequestHeader(header, token);
    });
	//userInfoListData()
});

$('#add').click(function() {
	addAdmin();
});
/*
 * 导入文件
 */
$("#excel_buttonst").click(function(){
	if($("#filename").html()=="未选择文件"){
		toastr.error("请选择文件");
	}else{
		$("#formrs").submit();
	}
})
$("#excel_buttonssss").click(function(){

	if($("#idList").val()!=""){
		for(let i=0;i<$(".stockCheckbox").length;i++){
			if($(".stockCheckbox")[i].checked==true){
				$(".F_logistics_item4"+$(".stockCheckbox")[i].id).css("color","green")
			}
		}
		$("#formtyw").submit();
	}else{
		toastr.error("请选择需要导出的文件");
	}
}) 

function pages(value) {
	let datas={};
	datas["page"]=value;
	datas["fIds"]=$("#orderNum").val();
	datas["standby6"]=$("#StatusOrder").val();
	datas["limit"]=$("#pagsNums").val();
	datas["startDatas"]=$("#startDatas").val();
	datas["endDatas"]=$("#endDatas").val();
	if($("#allChe").prop("checked")==true){
	datas["standby9"]="1";
	}
	//console.log(datas)
	/*
	 * 根据条件查询订单
	 */
	 $.ajax({
			type : "post",
			contentType : "application/json;charset=utf-8", 
			url :"${pageContext.request.contextPath}/Logistics/selStatusOrder?${_csrf.parameterName}=${_csrf.token}",
			data:JSON.stringify(datas),
			dataType:"json",
			success:function(data){
				$("#V_pages").html("");
				$("#F-main-body").html("");
				selInputButton="";
				//$("#F-main-body").html('<input type="checkbox" name="stockCheckboxFid" style="display:block">');
				
					 var content = "<a class='pageSi' onclick='pages(1)'>首页</a>";
			            var current =  data.pageNum;
			            var total = data.pages;
					//总页数大于6时候
		            if(total > 6) {
		                //当前页数小于5时显示省略号
		                if(current < 5) {
		                    for(var i = 1; i < 6; i++) {
		                    	 if(current == i) {
			                    	 content += "<a class='pageSi'style='color:red' onclick='pages("+i+")'>"+i+"</a>";
			                    	// $("#excel_buttonssss").removeAttr("onclick");$("#excel_buttonssss").attr("onclick","pages("+i+")");
			                    	 
								}else{
									 content += "<a class='pageSi' onclick='pages("+i+")'>"+i+"</a>";
			                    }
		                    }
		                    content += ". . .";
		                    content += "<a>"+total+"</a>";
		                } else {
		                     //判断页码在末尾的时候
		                    if(current < total - 3) {
		                        for(var i = current - 2; i < current + 3; i++) {
		                        	 if(current == i) {
		    	                    	 content += "<a class='pageSi'style='color:red' onclick='pages("+i+")'>"+i+"</a>";
				                    	// $("#excel_buttonssss").removeAttr("onclick");$("#excel_buttonssss").attr("onclick","pages("+i+")");
		    						}else{
		    							 content += "<a class='pageSi' onclick='pages("+i+")'>"+i+"</a>";
		    	                    }
		                        }
		                        content += ". . .";
		                        content += "<a>"+total+"</a>";
		                    //页码在中间部分时候    
		                    } else {
		                        content += "<a>1</a>";
		                        content += ". . .";
		                        for(var i = total - 4; i < total + 1; i++) {
		                        	 if(current == i) {
		    	                    	 content += "<a class='pageSi'style='color:red' onclick='pages("+i+")'>"+i+"</a>";
				                    	// $("#excel_buttonssss").removeAttr("onclick");$("#excel_buttonssss").attr("onclick","pages("+i+")");
		    						}else{
		    							 content += "<a class='pageSi' onclick='pages("+i+")'>"+i+"</a>";
		    	                    }
		                        }
		                    }
		                }
		                //页面总数小于6的时候
		            } else {
		                for(var i = 1; i < total + 1; i++) {
		                    if(current == i) {
		                    	 content += "<a class='pageSi'style='color:red' onclick='pages("+i+")'>"+i+"</a>";
		                    	// $("#excel_buttonssss").removeAttr("onclick");$("#excel_buttonssss").attr("onclick","pages("+i+")");
							}else{
								 content += "<a class='pageSi' onclick='pages("+i+")'>"+i+"</a>";
		                    }
		                }
		            }
		            content += "<a class='pageSi' onclick='pages("+data.pages+")'>尾页</a>";    
		            $("#V_pages").append(content);
					for(let a=0;a<data.list.length;a++){
					let color="color:red";
					if(data.list[a].standby6==1){
						//待发货
						color="color:red";
					}else if(data.list[a].standby6==0&&data.list[a].standby6!=""){
						//已发货
						color="color:blue";
					}else if(data.list[a].standby6==2){
						//已录入erp
						color="color:green";
					}else if(data.list[a].standby6==3){
						//问题件
						color="color:#c925d478";
					}
					$("#F-main-body").append('<div class="col-lg-3 F_setting"><div class="F_logistics_body">'
											+'<div class="d-flex flex-column">'
											+'   <div class="F_logistics_item1">'
											+'   	<div class="d-flex flex-row">'
											+' 			<div class="F_logistics_item2">订单号：<nobr class="F_logistics_item4 F_logistics_item4'+data.list[a].id+'" style="font-weight:900;margin-right:25px;'+color+'">'+data.list[a].fIds+'</nobr></div>'
											+'   		<div class="F_logistics_item2" onclick="F_logistics_body('+data.list[a].fIds+')"><a>'+data.list[a].fStore+'</a></div>'
											+'   	</div>'
											+'   </div>'
											+'   <div class="F_logistics_item1">'
											+'   	<div class="d-flex flex-column">'
											+'  			<div class=" F_logistics_item3" style="float:left">亚马逊编号：<nobr class="F_logistics_item4 F_logistics_item4'+data.list[a].id+'" style="'+color+'">'+data.list[a].fClientOrderCode+'</nobr></div>'
											+'   	<input type="checkbox" id="'+data.list[a].id+'" class="stockCheckbox" style="float:left;margin-top:8px;margin-left:50px"></div>'
											+'   </div>'
											+' </div>'
											+'</div></div>');
					selInputButton+=data.list[a].id+',';
				}

					selAll();
					if($("#rightright").css("display")=="block"){
					 	//列表变两个
					 	$(".F_setting").removeClass("col-lg-3");
					 	$(".F_setting").addClass("col-lg-6");
						$(".leftleft").css("width","");
						$(".leftleft").css("width","48%");
					}
					$(".stockCheckbox").prop("checked",false);
			        $('input[name="stockCheckboxFid"]').prop("checked",false);
		           $("#allInner").html("全选");
			},
			error:function(json){
				toastr.error("条件查询失败");
			}
		}); 
}
function lookOrder(userId,orderNum){
	$("#ordernum").val(orderNum);
	$("#userId").val(userId);
	$("#forwordform").submit();
}

function addAdmin(){	
	window.location.href =contextPath+'/admin/adduser' ;
}
//首尾页（带一个参页码参，还有一个从上面获取）
function page(value){
	/*
	 * 查询所有的物流信息/order/checkTheOrder
	 */
	$("#V_pages").html("");
	$("#F-main-body").html("");
	let datas={};
	datas["page"]=value;
	datas["limit"]=$("#pagsNums").val();
	 $.ajax({
			type : "get",
			contentType : "application/json;charset=utf-8", 
			url :"${pageContext.request.contextPath}/Logistics/checkTheOrder",
			data:datas,
			dataType:"json",
			success:function(data){
				$("#V_pages").html("");
				selInputButton="";
				//$("#F-main-body").html('<input type="checkbox" name="stockCheckboxFid" style="display:block">');
		            var content = "<a class='pageSi' onclick='page(1)'>首页</a>";
		            var current =  data.pageNum;
		            var total = data.pages;
				//总页数大于6时候
	            if(total > 6) {
	                //当前页数小于5时显示省略号
	                if(current < 5) {
	                    for(var i = 1; i < 6; i++) {
	                    	 if(current == i) {
		                    	 content += "<a class='pageSi'style='color:red' onclick='page("+i+")'>"+i+"</a>";
		                    	// $("#excel_buttonssss").removeAttr("onclick");$("#excel_buttonssss").attr("onclick","pages("+i+")");
							}else{
								 content += "<a class='pageSi' onclick='page("+i+")'>"+i+"</a>";
		                    }
	                    }
	                    content += ". . .";
	                    content += "<a>"+total+"</a>";
	                } else {
	                     //判断页码在末尾的时候
	                    if(current < total - 3) {
	                        for(var i = current - 2; i < current + 3; i++) {
	                        	 if(current == i) {
	    	                    	 content += "<a class='pageSi'style='color:red' onclick='page("+i+")'>"+i+"</a>";
			                    	// $("#excel_buttonssss").removeAttr("onclick");$("#excel_buttonssss").attr("onclick","pages("+i+")");
	    						}else{
	    							 content += "<a class='pageSi' onclick='page("+i+")'>"+i+"</a>";
	    	                    }
	                        }
	                        content += ". . .";
	                        content += "<a>"+total+"</a>";
	                    //页码在中间部分时候    
	                    } else {
	                        content += "<a>1</a>";
	                        content += ". . .";
	                        for(var i = total - 4; i < total + 1; i++) {
	                        	 if(current == i) {
	    	                    	 content += "<a class='pageSi'style='color:red' onclick='page("+i+")'>"+i+"</a>";
			                    	// $("#excel_buttonssss").removeAttr("onclick");$("#excel_buttonssss").attr("onclick","pages("+i+")");
	    						}else{
	    							 content += "<a class='pageSi' onclick='page("+i+")'>"+i+"</a>";
	    	                    }
	                        }
	                    }
	                }
	                //页面总数小于6的时候
	            } else {
	                for(var i = 1; i < total + 1; i++) {
	                    if(current == i) {
	                    	 content += "<a class='pageSi'style='color:red' onclick='page("+i+")'>"+i+"</a>";
	                    	// $("#excel_buttonssss").removeAttr("onclick");$("#excel_buttonssss").attr("onclick","pages("+i+")");
						}else{
							 content += "<a class='pageSi' onclick='page("+i+")'>"+i+"</a>";
	                    }
	                }
	            }
	            content += "<a class='pageSi' onclick='page("+data.pages+")'>尾页</a>";    
	            $("#V_pages").append(content);
				
				for(let a=0;a<data.list.length;a++){
					let color="color:red";
					if(data.list[a].standby6==1){
						//待发货
						color="color:red";
					}else if(data.list[a].standby6==0&&data.list[a].standby6!=""){
						//已发货
						color="color:blue";
					}else if(data.list[a].standby6==2){
						//已录入erp
						color="color:green";
					}else if(data.list[a].standby6==3){
						//问题件
						color="color:#c925d478";
					}
					$("#F-main-body").append('<div class="col-lg-3 F_setting"><div class="F_logistics_body">'
											+'<div class="d-flex flex-column">'
											+'   <div class="F_logistics_item1">'
											+'   	<div class="d-flex flex-row">'
											+' 			<div class="F_logistics_item2">订单号：<nobr class="F_logistics_item4 F_logistics_item4'+data.list[a].id+'" style="font-weight:900;margin-right:25px;'+color+'">'+data.list[a].fIds+'</nobr></div>'
											+'   		<div class="F_logistics_item2" onclick="F_logistics_body('+data.list[a].fIds+')"><a>'+data.list[a].fStore+'</a></div>'
											+'   	</div>'
											+'   </div>'
											+'   <div class="F_logistics_item1">'
											+'   	<div class="d-flex flex-column">'
											+'  			<div class=" F_logistics_item3" style="float:left">亚马逊编号：<nobr class="F_logistics_item4 F_logistics_item4'+data.list[a].id+'" style="'+color+'">'+data.list[a].fClientOrderCode+'</nobr></div>'
											+'   	<input type="checkbox" id="'+data.list[a].id+'" class="stockCheckbox" style="float:left;margin-top:8px;margin-left:50px"></div>'
											+'   </div>'
											+' </div>'
											+'</div></div>');
					selInputButton+=data.list[a].id+",";
				}
				selAll();

				if($("#rightright").css("display")=="block"){
				 	//列表变两个
				 	$(".F_setting").removeClass("col-lg-3");
				 	$(".F_setting").addClass("col-lg-6");
					$(".leftleft").css("width","");
					$(".leftleft").css("width","48%");
				}
				$(".stockCheckbox").prop("checked",false);
		        $('input[name="stockCheckboxFid"]').prop("checked",false);
	           $("#allInner").html("全选");
			},
			error:function(json){
				swal("提示", "查询订单失败!", "error");  
			}
		}); 
}
//全选
$("#allInner").on("click",function(){

	 $("#idList").val("");
	 let pii=selInputButton.substr(0,selInputButton.length-1).split(",");
	if($('input[name="stockCheckboxFid"]').is(":checked")==false){
		for(let a=0;a<pii.length;a++){
			$("#"+pii[a]).prop("checked",true);
		}
       $('input[name="stockCheckboxFid"]').prop("checked",true);
      $("#allInner").html("全不选");
      $("#idList").val(pii);
   }else{
   	for(let a=0;a<pii.length;a++){
   		$("#"+pii[a]).prop("checked",false);
		}
       $('input[name="stockCheckboxFid"]').prop("checked",false);
      $("#allInner").html("全选");
   }
}); 
var selInputButton="";
function selAll(){
	//单选
		var checkS = $(".stockCheckbox");
		for(var i = 0;i<checkS.length;i++){
		    checkS[i].onclick = function(){

		   	 	let reslut="";
		    	$("#idList").val("");
		        var isSelectAll = true;//假设全选是选中状态的自定义变量
		        for(var i = 0;i<checkS.length;i++){
		            if(checkS[i].checked == false){
		                isSelectAll = false;
		                break;
		            }
		        }
		        for(let i=0;i<$(".stockCheckbox").length;i++){
		        	if($(".stockCheckbox")[i].checked==true){
		                reslut+=$(".stockCheckbox")[i].id+",";
		        	}
		        }
		        $("#idList").val(reslut.substr(0,reslut.length-1).split(","));
		        if(isSelectAll){
		            $('input[name="stockCheckboxFid"]').prop("checked",true);
		            $("#allInner").html("全不选");
		        }
		        if(this.checked == false){
		            $('input[name="stockCheckboxFid"]').prop("checked",false);
		            $("#allInner").html("全选");
		        }
		    }
		}
}
//全选前面小选项框
$('input[name="stockCheckboxFid"]').click(function(){
   if(this.checked){
   	for(let a=0;a<pii.length;a++){
			$("#"+pii[a]).prop("checked",true);
		}
      $("#allInner").html("全不选");
   }else{
   	for(let a=0;a<pii.length;a++){
			$("#"+pii[a]).prop("checked",false);
		}
      $("#allInner").html("全选");
   }
});
//反选
$("#reverse").on("click",function(){
	var checkSwe = $(".stockCheckbox");
	 $("#idList").val("");
	 let reslut="";
    /*按理说，反选被点击，全选应该为选中状态，
    但是由于再次点击反选的时候，全选还是会是选中的状态，所以在这里我们设为不选中。
    还有一个原因是，反选的时候，如果单选全被选中了，全选也是选中的，所以不会出现错乱。*/
    $('input[name="stockCheckboxFid"]').prop("checked",false);
    $("#allInner").html("全选");
    for(var i = 0;i<checkSwe.length;i++){
    	checkSwe[i].checked = !checkSwe[i].checked;
    }
    var isSelectAll = true;
    for(var i = 0;i<checkSwe.length;i++){
        if(checkSwe[i].checked == false){
            isSelectAll = false;
            break;
        }
    }
    if(isSelectAll){
        $("#allInner").html("全不选");
        $('input[name="stockCheckboxFid"]').prop("checked",true);
    }
    for(let i=0;i<$(".stockCheckbox").length;i++){
    	if($(".stockCheckbox")[i].checked==true){
            reslut+=$(".stockCheckbox")[i].id+",";
    	}
    }
	$("#idList").val(reslut.substr(0,reslut.length-1).split(","));
});
/*
 * 查询所有的物流信息/order/checkTheOrder
 */
 $.ajax({
		type : "get",
		contentType : "application/json;charset=utf-8", 
		url :"${pageContext.request.contextPath}/Logistics/checkTheOrder?${_csrf.parameterName}=${_csrf.token}",
		dataType:"json",
		success:function(data){
			$("#V_pages").html("");
			selInputButton="";
			//$("#F-main-body").html('<input type="checkbox" name="stockCheckboxFid" style="display:block">');
			 var content = "<a class='pageSi' onclick='page(1)'>首页</a>";
	            var current =  data.pageNum;
	            var total = data.pages;
			//总页数大于6时候
         if(total > 6) {
             //当前页数小于5时显示省略号
             if(current < 5) {
                 for(var i = 1; i < 6; i++) {
                 	 if(current == i) {
	                    	 content += "<a class='pageSi'style='color:red' onclick='page("+i+")'>"+i+"</a>";
	                    	// $("#excel_buttonssss").removeAttr("onclick");$("#excel_buttonssss").attr("onclick","pages("+i+")");
						}else{
							 content += "<a class='pageSi' onclick='page("+i+")'>"+i+"</a>";
	                    }
                 }
                 content += ". . .";
                 content += "<a>"+total+"</a>";
             } else {
                  //判断页码在末尾的时候
                 if(current < total - 3) {
                     for(var i = current - 2; i < current + 3; i++) {
                     	 if(current == i) {
 	                    	 content += "<a class='pageSi'style='color:red' onclick='page("+i+")'>"+i+"</a>";
	                    	// $("#excel_buttonssss").removeAttr("onclick");$("#excel_buttonssss").attr("onclick","pages("+i+")");
 						}else{
 							 content += "<a class='pageSi' onclick='page("+i+")'>"+i+"</a>";
 	                    }
                     }
                     content += ". . .";
                     content += "<a>"+total+"</a>";
                 //页码在中间部分时候    
                 } else {
                     content += "<a>1</a>";
                     content += ". . .";
                     for(var i = total - 4; i < total + 1; i++) {
                     	 if(current == i) {
 	                    	 content += "<a class='pageSi'style='color:red' onclick='page("+i+")'>"+i+"</a>";
	                    	// $("#excel_buttonssss").removeAttr("onclick");$("#excel_buttonssss").attr("onclick","pages("+i+")");
 						}else{
 							 content += "<a class='pageSi' onclick='page("+i+")'>"+i+"</a>";
 	                    }
                     }
                 }
             }
             //页面总数小于6的时候
         } else {
             for(var i = 1; i < total + 1; i++) {
                 if(current == i) {
                 	 content += "<a class='pageSi'style='color:red' onclick='page("+i+")'>"+i+"</a>";
                	// $("#excel_buttonssss").removeAttr("onclick");$("#excel_buttonssss").attr("onclick","pages("+i+")");
					}else{
						 content += "<a class='pageSi' onclick='page("+i+")'>"+i+"</a>";
                 }
             }
         }
         content += "<a class='pageSi' onclick='page("+data.pages+")'>尾页</a>";    
         $("#V_pages").append(content);
			for(let a=0;a<data.list.length;a++){
				let color="color:red";
				if(data.list[a].standby6==1){
					//待发货
					color="color:red";
				}else if(data.list[a].standby6==0&&data.list[a].standby6!=""){
					//已发货
					color="color:blue";
				}else if(data.list[a].standby6==2){
					//配送中
					color="color:green";
				}
				$("#F-main-body").append('<div class="col-lg-3 F_setting"><div class="F_logistics_body">'
										+'<div class="d-flex flex-column">'
										+'   <div class="F_logistics_item1">'
										+'   	<div class="d-flex flex-row">'
										+' 			<div class="F_logistics_item2">订单号：<nobr class="F_logistics_item4 F_logistics_item4'+data.list[a].id+'" style="font-weight:900;margin-right:25px;'+color+'">'+data.list[a].fIds+'</nobr></div>'
										+'   		<div class="F_logistics_item2" onclick="F_logistics_body('+data.list[a].fIds+')"><a>'+data.list[a].fStore+'</a></div>'
										+'   	</div>'
										+'   </div>'
										+'   <div class="F_logistics_item1">'
										+'   	<div class="d-flex flex-column">'
										+'  			<div class=" F_logistics_item3" style="float:left">亚马逊编号：<nobr class="F_logistics_item4 F_logistics_item4'+data.list[a].id+'" style="'+color+'">'+data.list[a].fClientOrderCode+'</nobr></div>'
										+'   	<input type="checkbox" id="'+data.list[a].id+'" class="stockCheckbox" style="float:left;margin-top:8px;margin-left:50px"></div>'
										+'   </div>'
										+' </div>'
										+'</div></div>');
				selInputButton+=data.list[a].id+',';
			}

			if($("#rightright").css("display")=="block"){
			 	//列表变两个
			 	$(".F_setting").removeClass("col-lg-3");
			 	$(".F_setting").addClass("col-lg-6");
				$(".leftleft").css("width","");
				$(".leftleft").css("width","48%");
			}
			selAll();
		},
		error:function(json){
			swal("提示", "查询订单失败!", "error");  
		}
	}); 
 /*
  * 页面变动
  */
function F_logistics_body(ids){
 	//右边详情页展示显示
 	$("#rightright").css("display","block");
 	
 	//左边变窄
 	$(".leftleft").css("width","48%");
 	
 	//列表变两个
 	$(".F_setting").removeClass("col-lg-3");
 	$(".F_setting").addClass("col-lg-6");
 	
 	//添加详情页选项卡
 	// 获取选中的标签页面板（tab panel）和它的标签页（tab）对象
	var pp = $('#tt').tabs('getSelected');
	//var tab = pp.panel('options').tab; // 相应的标签页（tab）对象 
	
	//记录是否重复
	var cf=0;
	
	//获取选项卡的总长度
	var tabss=$('#tt').tabs('tabs');
	var t=tabss.length;
	
	//获取到每个标签的标题
	var idqs = document.getElementsByClassName("tabs-title");
	if(idqs.length != 0){
		for(var c=0;c<idqs.length;c++){
		//控制台进行对比	
			if(idqs[c].innerText==ids){
				z=idqs[c].innerText;
				cf++;
			}
			
	}}
	
	 if (cf==0) {
		 $('#tt').tabs('add',{
				title: ids,
				content:'<iframe scrolling="yes" id="mainiframe" name="mainiframe" width="105.5%" height="100%" frameborder="0px" style="margin:-20px;padding-top:20px;overflow:hidden" src="/Shopping/Logistics/selectOrderById?id='+ids+'"></iframe>',
				closable: true
			});
			
		} else {
        	$('#tt').tabs('select', z);//选中并刷新
        } 
}
function getJsonss(data){
		let data1={};
		let data2={};
		let data3={};
		let b="";
		 for(var key in data){
			var value = data[key]; //注意是 [  ]
			//console.log(value+key); //依次弹出小明、小花
				if(value!=null&&value!=""){
					if(key == "itemArr"){
						b+=key;
						for(var key1 in value[0]){
							var value1 = value[0][key1];
							if(value1!=null&&value1!=""){
								b+=key1+value1;

								data3[key1]=value1;
							}
						}
						data1["itemArr"]=[data3];
					}else if(key == "consignee"){
						b+=key;
						for(var key1 in value){
							var value1 = value[key1];
							if(value1!=null&&value1!=""){
								b+=key1+value1;
								data2[key1]=value1;
							}
						}
						data1["consignee"]=data2;
					}else{

						data1[key]=value;
						b+=key+value;
					} 
				}
			} 
		/* if(data["referenceNo"]!=null&&data["referenceNo"]!=""){
			data1["referenceNo"]=data["referenceNo"];
			b+="referenceNo"+data["referenceNo"];
		}
		if(data["shipperHawbcode"]!=null&&data["shipperHawbcode"]!=""){
			data1["shipperHawbcode"]=data["shipperHawbcode"];
			b+="shipperHawbcode"+data["shipperHawbcode"];
		}
		if(data["shippingMethod"]!=null&&data["shippingMethod"]!=""){
			data1["shippingMethod"]=data["shippingMethod"];
			b+="shippingMethod"+data["shippingMethod"];
		}
		if(data["countryCode"]!=null&&data["countryCode"]!=null!=""){
			data1["countryCode"]=data["countryCode"];
			b+="countryCode"+data["countryCode"];
		}
		if(data["shipZip"]!=null&&data["shipZip"]!=""){
			data1["shipZip"]=data["shipZip"];
			b+="shipZip"+data["shipZip"];
		}
		if(data["orderWeight"]!=null&&data["orderWeight"]!=""){
			data1["orderWeight"]=data["orderWeight"];
			b+="orderWeight"+data["orderWeight"];
		}
		if(data["orderPieces"]!=null&&data["orderPieces"]!=""){
			data1["orderPieces"]=data["orderPieces"];
			b+="orderPieces"+data["orderPieces"];
		}
		if(data["totalprice"]!=null&&data["totalprice"]!=""){
			data1["totalprice"]=data["totalprice"];
			b+="totalprice"+data["totalprice"];
		}
		if(data["mailCargoType"]!=null&&data["mailCargoType"]!=""){
			data1["mailCargoType"]=data["mailCargoType"];
			b+="mailCargoType"+data["mailCargoType"];
		}
		if(data["length"]!=null&&data["length"]!=""){
			data1["length"]=data["length"];
			b+="length"+data["length"];
		}
		if(data["width"]!=null&&data["width"]!=""){
			data1["width"]=data["width"];
			b+="width"+data["width"];
		}
		if(data["height"]!=null&&data["height"]!=""){
			data1["height"]=data["height"];
			b+="height"+data["height"];
		}
		if(data["isReturn"]!=null&&data["isReturn"]!=""){
			data1["isReturn"]=data["isReturn"];
			b+="isReturn"+data["isReturn"];
		}
		if(data["isBattery"]!=null&&data["isBattery"]!=""){
			data1["isBattery"]=data["isBattery"];
			b+="isBattery"+data["isBattery"];
		}
		data1["consignee"]=data2;
		if(data["consigneeCompany"]!=null&&data["consigneeCompany"]!=""){
			data2["consigneeCompany"]=data["consigneeCompany"];
			b+="consigneeCompany"+data["consigneeCompany"];
		}
		if(data["consigneeProvince"]!=null&&data["consigneeProvince"]!=""){
			data2["consigneeProvince"]=data["consigneeProvince"];
			b+="consigneeProvince"+data["consigneeProvince"];
		}
		if(data["consigneeCity"]!=null&&data["consigneeCity"]!=""){
			data2["consigneeCity"]=data["consigneeCity"];
			b+="consigneeCity"+data["consigneeCity"];
		}
		if(data["consigneeStreet"]!=null&&data["consigneeStreet"]!=""){
			data2["consigneeStreet"]=data["consigneeStreet"];
			b+="consigneeStreet"+data["consigneeStreet"];
		}
		if(data["consigneeStreet2"]!=null&&data["consigneeStreet2"]!=""){
			data2["consigneeStreet2"]=data["consigneeStreet2"];
			b+="consigneeStreet2"+data["consigneeStreet2"];
		}
		if(data["consigneeStreet3"]!=null&&data["consigneeStreet3"]!=""){
			data2["consigneeStreet3"]=data["consigneeStreet3"];
			b+="consigneeStreet3"+data["consigneeStreet3"];
		}
		if(data["consigneePostcode"]!=null&&data["consigneePostcode"]!=""){
			data2["consigneePostcode"]=data["consigneePostcode"];
			b+="consigneePostcode"+data["consigneePostcode"];
		}
		if(data["consigneeName"]!=null&&data["consigneeName"]!=""){
			data2["consigneeName"]=data["consigneeName"];
			b+="consigneeName"+data["consigneeName"];
		}
		if(data["consigneeTelephone"]!=null&&data["consigneeTelephone"]!=""){
			data2["consigneeTelephone"]=data["consigneeTelephone"];
			b+="consigneeTelephone"+data["consigneeTelephone"];
		}
		if(data["consigneeMobile"]!=null&&data["consigneeMobile"]!=""){
			data2["consigneeMobile"]=data["consigneeMobile"];
			b+="consigneeMobile"+data["consigneeMobile"];
		}
		if(data["consigneeEmail"]!=null&&data["consigneeEmail"]!=""){
			data2["consigneeEmail"]=data["consigneeEmail"];
			b+="consigneeEmail"+data["consigneeEmail"];
		}
		if(data["consigneeCountryEname"]!=null&&data["consigneeCountryEname"]!=""){
			data2["consigneeCountryEname"]=data["consigneeCountryEname"];
			b+="consigneeCountryEname"+data["consigneeCountryEname"];
		}
		if(data["consigneeCountryCname"]!=null&&data["consigneeCountryCname"]!=""){
			data2["consigneeCountryCname"]=data["consigneeCountryCname"];
			b+="consigneeCountryCname"+data["consigneeCountryCname"];
		}
		data1["itemArr"]=[data3];
		if(data["invoiceEnname"]!=null&&data["invoiceEnname"]!=""){
			data3["invoiceEnname"]=data["invoiceEnname"];
			b+="invoiceEnname"+data["invoiceEnname"];
		}
		if(data["invoiceCnname"]!=null&&data["invoiceCnname"]!=""){
			data3["invoiceCnname"]=data["invoiceCnname"];
			b+="invoiceCnname"+data["invoiceCnname"];
		}
		if(data["invoiceWeight"]!=null&&data["invoiceWeight"]!=""){
			data3["invoiceWeight"]=data["invoiceWeight"];
			b+="invoiceWeight"+data["invoiceWeight"];
		}
		if(data["invoiceQuantity"]!=null&&data["invoiceQuantity"]!=""){
			data3["invoiceQuantity"]=data["invoiceQuantity"];
			b+="invoiceQuantity"+data["invoiceQuantity"];
		}
		if(data["unitCode"]!=null&&data["unitCode"]!=""){
			data3["unitCode"]=data["unitCode"];
			b+="unitCode"+data["unitCode"];
		}
		if(data["invoiceUnitcharge"]!=null&&data["invoiceUnitcharge"]!=""){
			data3["invoiceUnitcharge"]=data["invoiceUnitcharge"];
			b+="invoiceUnitcharge"+data["invoiceUnitcharge"];
		}
		if(data["invoiceCurrencycode"]!=null&&data["invoiceCurrencycode"]!=""){
			data3["invoiceCurrencycode"]=data["invoiceCurrencycode"];
			b+="invoiceCurrencycode"+data["invoiceCurrencycode"];
		}
		if(data["hsCode"]!=null&&data["hsCode"]!=""){
			data3["hsCode"]=data["hsCode"];
			b+="hsCode"+data["hsCode"];
		}
		if(data["sku"]!=null&&data["sku"]!=""){
			data3["sku"]=data["sku"];
			b+="sku"+data["sku"];
		}
		if(data["isContainsBattery"]!=null&&data["isContainsBattery"]!=""){
			data3["isContainsBattery"]=data["isContainsBattery"];
			b+="isContainsBattery"+data["isContainsBattery"];
		}
		if(data["isAneroidMarkup"]!=null&&data["isAneroidMarkup"]!=""){
			data3["isAneroidMarkup"]=data["isAneroidMarkup"];
			b+="isAneroidMarkup"+data["isAneroidMarkup"];
		}
		if(data["isOnlyBattery"]!=null&&data["isOnlyBattery"]!=""){
			data3["isOnlyBattery"]=data["isOnlyBattery"];
			b+="isOnlyBattery"+data["isOnlyBattery"];
		}
		if(data["isBreakable"]!=null&&data["isBreakable"]!=""){
			data3["isBreakable"]=data["isBreakable"];
			b+="isBreakable"+data["isBreakable"];
		}
		if(data["isCharged"]!=null&&data["isCharged"]!=""){
			data3["isCharged"]=data["isCharged"];
			b+="isCharged"+data["isCharged"];
		}
		if(data["salePrice"]!=null&&data["salePrice"]!=""){
			data3["salePrice"]=data["salePrice"];
			b+="salePrice"+data["salePrice"];
		}
		if(data["saleCurrency"]!=null&&data["saleCurrency"]!=""){
			data3["saleCurrency"]=data["saleCurrency"];
			b+="saleCurrency"+data["saleCurrency"];
		}
		if(data["categoryName"]!=null&&data["categoryName"]!=""){
			data3["categoryName"]=data["categoryName"];
			b+="categoryName"+data["categoryName"];
		}
		if(data["parentEnName"]!=null&&data["parentEnName"]!=""){
			data3["parentEnName"]=data["parentEnName"];
			b+="parentEnName"+data["parentEnName"];
		}  */
	return {a:JSON.stringify(data1),b:b};
}

//关闭清空
function closePanelsY(){
	// 获取选中的标签页面板（tab panel）和它的标签页（tab）对象
	var pp = $('#tt').tabs('getSelected');
	//获取选项卡的总长度
	var tabss=$('#tt').tabs('tabs');
	var t=tabss.length;
	if (pp){
	//关闭所有的框
	var y=0;
	for(var cd=0;cd<t;cd++){
		if(cd<t){
			$('#tt').tabs('close', 0);
			y++;
		}else if(cd>t){
			$('#tt').tabs('close', 1);
			y++;
		}
	}

	var right=document.getElementById("rightright");
	var left=document.getElementById("wrapper");
	//右边商品少于一个删除并隐藏
	var right=document.getElementById("rightright");
	var select=document.getElementById("selectselect");
	var left=document.getElementById("wrapper");

	$(".leftleft").css("width","90%");
	right.style.display="none";
 	//列表变三个
 	$(".F_setting").removeClass("col-lg-6");
 	$(".F_setting").addClass("col-lg-3");
	}
	
	}
	//发送已选
	
	$("#submitOrder").click(function(){
		
		//拿到所有已经选取的id
		//用上面获取到的id进行商品f_ids查询,后台进行截取
		$("#resultHJ").val("");
		let datas={};
		datas["id"]=$("#idList").val();
		$.ajax({
				type : "post",
				contentType : "application/json;charset=utf-8", 
				url :"${pageContext.request.contextPath}/Logistics/getPostId",
				dataType:"json",
				data:JSON.stringify(datas),
				success:function(data){
					let sun=0;
					let suns=0;
					let num="";
					let num1="";
					for(var key in data){

						sun+=1;
						var value = data[key]; //注意是 [  ]
						let result_hj=getJsonss(value).a;
						$.ajax({
							type : "post",
							contentType : "application/json;charset=utf-8", 
							url :"${pageContext.request.contextPath}/Logistics/getPostYu?${_csrf.parameterName}=${_csrf.token}",//http://vakind.f3322.org:10008/api/logistics/v1/track/create/order
							dataType:"json",
							async:false,
							data:result_hj,//JSON.stringify(datasy)
							success:function(data2){
								
								 if(data2.status==1){
										let labls={};
										labls["id"]=data2.result.referenceNo;
										labls["lab"]=data2.result.lableKey;
										labls["num1"]=data2.result.trackNum1;
										labls["num2"]=data2.result.trackNum2;
									 $.ajax({
											type : "post",
											contentType : "application/json;charset=utf-8", 
											url :"${pageContext.request.contextPath}/Logistics/setLableid?${_csrf.parameterName}=${_csrf.token}",//http://vakind.f3322.org:10008/api/logistics/v1/track/create/order
											dataType:"json",
											async:false,
											data:JSON.stringify(labls),//JSON.stringify(datasy)
											success:function(data){
												suns+=1;
												$("#resultHJ").val($("#resultHJ").val()+
														 "编号："+data2.result.referenceNo+ "\n"+
														"跟踪号1:"+data2.result.trackNum1+"  跟踪号2："+data2.result.trackNum2+"  唯一标识:"+data2.result.lableKey+"\n"+
														"标签地址:"+data2.result.lableURL+"  消息：:"+data2.result.errorMessage+"  编码：:"+data2.result.errorCode+"  请求状态："+data2.result.status+"\n"+"*****************"+"\n");
												toastr.success("发送成功");
											},
											error:function(json){
												toastr.error("添加失败");
											}
										});
								 }else if(data2.status==0){
									 $("#resultHJ").val($("#resultHJ").val()+"发送失败   "+"  消息：:"+data.errormsg+"  编码：:"+data.errorcode+"  请求状态："+data.status+"\n"+"*****************"+"\n");
								 }
								 
							},
							error:function(json){
								$("#resultHJ").val($("#resultHJ").val()+"发送失败   "+"  消息：:"+data.errormsg+"  编码：:"+data.errorcode+"  请求状态："+data.status+"\n"+"*****************"+"\n");
								toastr.error("发送失败");
							}
						});
					}
					$("#postHj").val("");
					$("#conHJ").html("已发送"+sun+"条，其中"+suns+"条发送成功，"+(sun-suns)+"条发送失败");
					$("#postHj").val($("#resultHJ").val());
					console.log(sun)
					PostTrack();
				},
				error:function(json){
					swal("提示", "id查找失败!", "error");  
				}
			}); 
			
	})

                function fakeClick(obj) {
                  var ev = document.createEvent("MouseEvents");
                  ev.initMouseEvent("click", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
                  obj.dispatchEvent(ev);
                }

                function exportRaw(name, data) {
                  var urlObject = window.URL || window.webkitURL || window;
                  var export_blob = new Blob([data]);
                  var save_link = document.createElementNS("http://www.w3.org/1999/xhtml", "a")
                  save_link.href = urlObject.createObjectURL(export_blob);
                  save_link.download = name;
                  fakeClick(save_link);
                } 
	/*
	 进行签名
	*/
	function Fsignature(value){
		var sha = hex_hmac_sha1("93a61c53-e6a3-4f13-ad0b-594498a49c45",value).toUpperCase();
		return sha;
	}
	/*
	 获取跟踪号
	*/
	function gettrackList(){
		let idlists=$("#idList").val();
		if(idlists==""){
			toastr.error("请选择需要打印的运单！");
			return false;
		}
		$("#resultHJ").val("");
		let datas={};
		datas["referenceNoList"]=idlists;
		$.ajax({
			type : "post",
			contentType : "application/json;charset=utf-8", 
			url :"${pageContext.request.contextPath}/Logistics/getpdfall",
			dataType:"json",
			async:false,
			data:JSON.stringify(datas),
			success:function(data){
				window.open("${pageContext.request.contextPath}/"+data,"_blank");
				pages("1");
			},
			error:function(json){
				toastr.error("打印失败");
			}
		}); 
		
		toastr.success("获取成功");
	}
	/*
	生成集拼单号
	*/
	function dropinfo(){

		let idlists=$("#idList").val().split(",");
		let listAll=[];
		if(idlists==""){
			toastr.error("请选择需要集拼的运单！");
			return false;
		}
		for(let y=0;y<idlists.length;y++){
			listAll.push(idlists[y]);
		}
		//传送所有单号
		let datas={};
		datas["referenceNoList"]=idlists;
		datas["S_channel"]=$("#S_channel").val();
		datas["S_channel1"]=$("#S_channel option:selected").text();
		datas["S_pack"]=$("#S_pack").val();
		datas["S_num"]=idlists.length;
		datas["S_weight"]=$("#S_weight").val();
		datas["S_weight2"]=$("#S_weight2").val();
		datas["S_admin"]=$("#S_admin").val();
		datas["S_time"]=$("#S_time").val();
		$.ajax({
			type : "post",
			contentType : "application/json;charset=utf-8", 
			url :"${pageContext.request.contextPath}/Logistics/dropinfo?${_csrf.parameterName}=${_csrf.token}",
			dataType:"json",
			data:JSON.stringify(datas),
			async:false,
			success:function(data){
				console.log(data)
				window.open("${pageContext.request.contextPath}/"+data,"_blank"); 
				$("#myModal_summary").modal("hide");
			},
			error:function(json){
				toastr.error("打印失败");
			}
		}); 
	}
</script>

<script type="text/javascript" src="${pageContext.request.contextPath}/resources/tanathos-jquery.jqprint-13a4f0e/jquery.jqprint-0.3.js"></script>
<script>
	jQuery.browser={};
	(function(){
		jQuery.browser.msie=false; 
		jQuery.browser.version=0;
		if(navigator.userAgent.match(/MSIE ([0-9]+)./)){ 
			jQuery.browser.msie=true;
			jQuery.browser.version=RegExp.$1;
		}
	})();	
		
</script>
<script type="text/javascript" src="${pageContext.request.contextPath}/resources/admin/js/crypto-js-develop/src/core.js"></script>
<script type="text/javascript" src="${pageContext.request.contextPath}/resources/admin/js/crypto-js-develop/src/aes.js"></script>
<script type="text/javascript" src="${pageContext.request.contextPath}/resources/admin/js/crypto-js-develop/src/sha1.js"></script>
<script type="text/javascript" src="${pageContext.request.contextPath}/resources/admin/js/crypto-js-develop/src/md5.js"></script>
<script type="text/javascript" src="${pageContext.request.contextPath}/resources/admin/js/crypto-js-develop/src/evpkdf.js"></script>
<script type="text/javascript" src="${pageContext.request.contextPath}/resources/admin/js/crypto-js-develop/src/hmac.js"></script>
<script type="text/javascript" src="${pageContext.request.contextPath}/resources/admin/js/crypto-js-develop/src/cipher-core.js"></script>
<script type="text/javascript" src="${pageContext.request.contextPath}/resources/admin/js/crypto-js-develop/src/enc-base64.js"></script>
<script type="text/javascript" src="${pageContext.request.contextPath}/resources/admin/js/crypto-js-develop/src/lib-typedarrays.js"></script>
</body>
</html>